<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Settings</title>
  <link rel="stylesheet" href="assets/css/settings.css" />
</head>
<body>
  <h2>Settings</h2>

  <!-- Baseline Calibration Section -->
  <div id="baselineCalibrationSection" style="margin-bottom: 20px; padding: 20px; border: 1px solid #eee; border-radius: 8px; background: #fdfdfd;">
    <h3>Baseline Calibration</h3>
    <button id="calibrateBtn" style="padding: 10px 15px; background-color: #28a745; color: #fff; border: none; border-radius: 5px; cursor: pointer;">Calibrate Baseline</button>
    <div id="calibrationStatus" style="margin-top: 10px;">Not calibrated</div>
    <div id="calibrationBar" style="width:100%; height:20px; background:#ccc; border-radius:10px; overflow:hidden; margin-top:10px;">
      <div id="calibrationProgress" style="height:100%; width:0; background:#4caf50;"></div>
    </div>
  </div>
  
  <form id="settingsForm">
    <div class="form-group">
      <label for="calibrationDuration">
        Calibration Duration (ms):
        <span class="tooltip-icon" data-tooltip="ms for initial baseline volume calibration">?</span>
      </label>
      <input type="number" id="calibrationDuration" />
    </div>
    <div class="form-group">
      <label for="speechStartThresholdMultiplier">
        Speech Start Threshold Multiplier:
        <span class="tooltip-icon" data-tooltip="multiplier above baseline to consider speech start">?</span>
      </label>
      <input type="number" step="0.1" id="speechStartThresholdMultiplier" />
    </div>
    <div class="form-group">
      <label for="speechStopThresholdMultiplier">
        Speech Stop Threshold Multiplier:
        <span class="tooltip-icon" data-tooltip="multiplier above baseline to consider speech still ongoing (if below, it's silence)">?</span>
      </label>
      <input type="number" step="0.1" id="speechStopThresholdMultiplier" />
    </div>
    <div class="form-group">
      <label for="speechStartDuration">
        Speech Start Duration (ms):
        <span class="tooltip-icon" data-tooltip="ms of sustained loudness above start threshold to confirm speech">?</span>
      </label>
      <input type="number" id="speechStartDuration" />
    </div>
    <div class="form-group">
      <label for="silenceDuration">
        Silence Duration (ms):
        <span class="tooltip-icon" data-tooltip="ms of sustained silence (below stop threshold) before ending a segment">?</span>
      </label>
      <input type="number" id="silenceDuration" />
    </div>
    <div class="form-group">
      <label for="minSegmentDuration">
        Minimum Segment Duration (ms):
        <span class="tooltip-icon" data-tooltip="discard very short segments">?</span>
      </label>
      <input type="number" id="minSegmentDuration" />
    </div>
    <div class="form-group">
      <label for="minimumRecordingLength">
        Minimum Recording Length (ms):
        <span class="tooltip-icon" data-tooltip="ms, minimum total length for a finalized recording segment">?</span>
      </label>
      <input type="number" id="minimumRecordingLength" />
    </div>
    <div class="form-group">
      <label for="baseLineMultiplier">
        Baseline:
        <span class="tooltip-icon" data-tooltip="This is the average volume without anyone main person talking.">?</span>
      </label>
      <input type="number" step="0.001" id="baseLineMultiplier" />
    </div>

    <hr />

    <div class="form-group">
      <label for="apiKey">
        OpenAI API Key:
        <span class="tooltip-icon" data-tooltip="Your OpenAI API key for authentication">?</span>
      </label>
      <input type="text" id="apiKey" placeholder="Enter API Key" />
    </div>

    <div class="button-group">
      <button type="submit">Save Settings</button>
      <button type="button" id="resetSettings">Reset to Default</button>
    </div>
  </form>

  <a href="index.html" id="backButton">‚Üê Back to Home</a>

  <script src="assets/js/settings.js"></script>
</body>
</html>
